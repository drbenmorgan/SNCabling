% -*- mode: latex; -*-

\clearpage
\section{The CaloHV cabling table and its usage}

\subsection{Source table}

Cabling the CaloHV system consists in the association of each PMT to a
CAEN HV  board channel.  An unique  cabling table is  provided to
give an unambiguous description of the  cable paths from the HV boards
to the  PMTs.  The table consists  in an associative map  like the one
shown on  table \ref{tab:calohv:map:1}.  This map contains  the needed
informations to ensure the addressing of all HV cables.

\begin{table}[h]
\begin{center}
\begin{tabular}{|c|c|c|c|}
  \hline
  \textbf{HV channel}& \textbf{External HV harness} & \textbf{Internal HV cable} & \textbf{Optical Module} \\
  \hline
  \hline
  \texttt{H:0.0.23}  & \texttt{E:12} & \texttt{A:12.3} & \texttt{M:0.19.0} \\
  \hline
  \texttt{H:0.0.22}  & \texttt{E:12} & \texttt{A:12.18} & \texttt{M:0.19.1} \\
  \hline
  \texttt{H:0.0.6}  & \texttt{E:12} & \texttt{A:12.34} & \texttt{M:0.19.2} \\
  \hline
  \texttt{H:0.2.23}  & \texttt{E:14} & \texttt{A:14.3} & \texttt{M:0.19.3} \\
  \hline
  \vdots          & \vdots  & \vdots   & \vdots             \\  
  \hline
\end{tabular}
\end{center}
\caption{Example of CaloHV cabling table}
\label{tab:calohv:map:1}
\end{table}

\par\noindent The table is provided in the form of a CSV\footnote{CSV:
  coma separated value} file.  The file must use the following format:

\begin{itemize}
\item The file contains only ASCII characters.
\item Blank lines are ignored.
\item Lines starting with the hashtag character \fbox{\texttt{\#}} are
  ignored, enabling to write some comments.
\item There is only one HV channel/PMT association per line.
\item Each  line has  four columns  separated by  the \emph{semi-colon}
  character \fbox{\texttt{;}}.
\item The first column contains the label of the CAEN HV board channel.
\item The second column contains the label of the external HV harness.
\item The third column contains the label of the internal HV cable.
\item The fourth column contains the label of the PMT (optical module).
\end{itemize}

\par\noindent The  CaloHV cabling map file  can be used as  the unique
source of information for different purposes:
\begin{itemize}
\item generation of labels to be stuck on internal HV cables, internal
  and external HV harnesses,
\item generation of  printable cabling tables for people  in charge of
  the calorimeter HV cabling at LSM,
\item input for dedicated software  modeling tools used by the Control
  and Monitoring System (CMS), the simulation\dots
\end{itemize}


\subsection{CaloHV cabling sheets}


The  SNCabling  package  provides  a  Python  script  to  automatically
generate, from the CaloHV cabling table, a printable PDF document with
cabling  tables  corresponding to  each  part  of the  detector and crates.
This document can be used during cabling operations.


\subsection{Labels}

The  SNCabling  package  provides  a Python  script  to  automatically
generate, from the  CaloHV cabling table, the lists of  all labels for
all  HV  harnesses and  cables.   The  labels  must  be stuck  on  the
terminations of all  harnesses and cables to help the  cabling team to
identify  the proper  connections between  CAEN HV  boards/external HV
harnesses/patch     panel/internal      HV     cables/PMT.      Figure
\ref{fig:calohv:labels:1}  shows where  various  kinds  of labels  are
supposed to be stuck on HV harnesses and cables.

\begin{itemize}
\item Each label  stuck on the end of an  internal HV cable on
the PMT  side identifies  not only  the HV cable  itself but  also the
optical module/PMT it is connected to. Example:
  \begin{center}
    \fbox{\texttt{A:9:3 -> M:1.3.4}}
  \end{center}
\item Each label  stuck on the end of an  external HV harness on
the HV crate  side identifies  not only  the HV harness  itself but  also the
HV board it is connected to. Example:
  \begin{center}
    \fbox{\texttt{E:9 -> B:1.9}}
  \end{center}
\end{itemize}

\begin{figure}[h!]
  \begin{center}
    \scalebox{0.75}{\input{\pdftextimgpath/fig-calohv-labels-1.pdftex_t}}
  \end{center}
  \caption{CaloHV labelling of HV harnesses and internal cables}
  \label{fig:calohv:labels:1}
\end{figure}

%% end
